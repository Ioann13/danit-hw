# -*- mode: ruby -*-
# vi: set ft=ruby :


Vagrant.configure("2") do |config|
  config.vm.box = "ubuntu/jammy64"
   
  config.vm.network "public_network"
  config.vm.provision "shell", inline: <<-SHELL
    sudo apt update -y
    sudo apt install -y nginx
    sudo sed -i 's/listen 80 default_server/listen 82 default_server/' /etc/nginx/sites-available/default
    sudo sed -i 's/listen \[::\]:80 default_server/listen \[::\]:82 default_server/' /etc/nginx/sites-available/default
    sudo systemctl restart nginx
  SHELL
  config.ssh.insert_key = false
  config.vm.provider "virtualbox" do |vb|
    vb.memory = "1024"
    vb.cpus = 1
  end
end